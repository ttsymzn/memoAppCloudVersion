# TODONE管理メモ機能

## 概要

「TODONE管理メモ」機能は、完了したタスクを自動的にその日のDONEメモに移動する機能です。タスク管理を効率化し、完了したタスクを一箇所にまとめて管理できます。

## 機能の使い方

### 1. タスクの記述

メモ内でタスクを記述する際、以下のいずれかの形式で行頭にチェックボックスを記述します：

**完了タスク（チェック済み）:**
- `[x] タスク内容`
- `[X] タスク内容`
- `ｘ タスク内容`

**未完了タスク:**
- `[ ] タスク内容`

### 2. 完了タスクの移動

1. メモエディタで、移動したい完了タスクの行にカーソルを置きます
2. **`Ctrl+E`**（Macの場合は`Cmd+E`）を押します
3. タスクが自動的にその日のDONEメモに移動します

### 3. DONEメモの自動作成

- その日のDONEメモが存在しない場合、自動的に作成されます
- DONEメモのタイトル形式: `DONE YYYY-MM-DD`
  - 例: `DONE 2026-01-19`

### 4. 視覚的な表示

メモ内のチェックボックスは以下のように表示されます：

- ✅ **完了タスク**: 緑色のチェックマーク付きボックス
- ☐ **未完了タスク**: グレーの空ボックス

## 使用例

### タスクメモの例

```
プロジェクトタスク

[x] 要件定義書の作成
[x] デザインモックアップの作成
[ ] 実装開始
[ ] テスト実施
ｘ クライアントへの報告
```

上記のメモで、完了タスク（`[x]`、`[X]`、`ｘ`で始まる行）にカーソルを置いて`Ctrl+E`を押すと、そのタスクがDONEメモに移動します。

### DONEメモの例

```
DONE 2026-01-19
[x] 要件定義書の作成
[x] デザインモックアップの作成
ｘ クライアントへの報告
```

## ショートカットキー

| キー | 機能 |
|------|------|
| `Ctrl+E` (Windows/Linux) | 完了タスクをDONEメモに移動 |
| `Cmd+E` (Mac) | 完了タスクをDONEメモに移動 |

## 注意事項

1. **カーソル位置**: タスクを移動する際は、必ず該当する行にカーソルを置いてください
2. **完了マーク**: `[x]`、`[X]`、`ｘ`のいずれかで始まる行のみが移動対象です
3. **自動保存**: タスク移動後、メモは自動的に保存されます
4. **DONEメモの検索**: 既存のDONEメモは、タイトルが`DONE`で始まるメモから検索されます

## ワークフロー例

### 日次タスク管理

1. **朝**: その日のタスクをメモに記述
   ```
   今日のタスク
   [ ] メールチェック
   [ ] 会議準備
   [ ] レポート作成
   ```

2. **作業中**: タスク完了時にチェックマークを付ける
   ```
   今日のタスク
   [x] メールチェック
   [x] 会議準備
   [ ] レポート作成
   ```

3. **終業時**: 完了タスクをDONEメモに移動（各行で`Ctrl+E`）
   - 元のメモには未完了タスクのみが残る
   - DONEメモには完了したタスクが蓄積される

### 週次レビュー

DONEメモを確認することで、その日に何を達成したかを簡単に振り返ることができます。

```
DONE 2026-01-19
[x] メールチェック
[x] 会議準備
[x] クライアント打ち合わせ
[x] プロジェクト進捗報告
```

## 技術的な詳細

- **検出パターン**: 正規表現 `/^(\[x\]|\[X\]|ｘ)/i` を使用
- **日付フォーマット**: `YYYY-MM-DD` 形式（日本語ロケール）
- **データベース更新**: 元のメモとDONEメモの両方が自動的に更新されます
- **エラーハンドリング**: 移動失敗時はアラートで通知されます

## トラブルシューティング

### タスクが移動しない

- カーソルが正しい行にあるか確認してください
- 行頭が`[x]`、`[X]`、または`ｘ`で始まっているか確認してください
- メモが保存されているか確認してください（新規メモの場合は先に保存が必要）

### DONEメモが見つからない

- DONEメモは自動的に作成されるため、手動で作成する必要はありません
- メモ一覧を更新してみてください

## 今後の拡張案

- 週次・月次のDONEメモサマリー機能
- タスクの優先度管理
- タスクの所要時間記録
- タスクの統計・分析機能
